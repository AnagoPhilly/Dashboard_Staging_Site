<div class="modal-content">
    <h2 id="empModalTitle">Add Team Member</h2>
    <input type="hidden" id="empId" />

    <div class="input-wrapper" style="margin-bottom:10px;">
        <label style="font-size:0.8rem; font-weight:700;" for="empName">Full Name</label>
        <input type="text" id="empName" placeholder="e.g. John Doe" />
    </div>

    <div style="display:grid; grid-template-columns: 1fr 1fr 1fr; gap:10px; margin-bottom:10px;">
        <div class="input-wrapper">
            <label style="font-size:0.8rem; font-weight:700;" for="empRole">Role</label>
            <select id="empRole" style="width:100%; padding:10px; border:1px solid #ddd; border-radius:6px;">
                <option value="General Cleaner">General Cleaner</option>
                <option value="Floor Tech">Floor Tech</option>
                <option value="Day Porter">Day Porter</option>
                <option value="Lead/Supervisor">Lead/Supervisor</option>
                <option value="Applicant">Applicant</option>
            </select>
        </div>
        <div class="input-wrapper">
            <label style="font-size:0.8rem; font-weight:700;" for="empWage">Hourly Wage ($)</label>
            <input type="number" id="empWage" placeholder="15.00" step="0.25" />
        </div>
        <div class="input-wrapper" style="position:relative;">
            <label style="font-size:0.8rem; font-weight:700;">Color Tag</label>
            <input type="hidden" id="empColor" value="#2dd4bf" />

            <button type="button" id="colorPickerButton" onclick="toggleColorDropdown(event)"
                    style="width:100%; height:45px; display:flex; align-items:center; justify-content:space-between; padding:10px; border:1px solid #ddd; border-radius:6px; background:white; cursor:pointer;">
                <span id="selectedColorIndicator" style="width:18px; height:18px; border-radius:50%; background:#2dd4bf; border:1px solid rgba(0,0,0,0.1);"></span>
                <svg viewBox="0 0 20 20" fill="currentColor" style="width:18px; height:18px; color:#6b7280;">
                    <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
                </svg>
            </button>

            <div id="colorDropdown" class="color-dropdown-popover">
                <div id="colorPaletteGrid" style="display:grid; grid-template-columns: repeat(5, 1fr); gap:10px; padding:15px;" onclick="selectEmployeeColor(event)">
                </div>
            </div>
        </div>
    </div>
    <div class="input-wrapper" style="margin-bottom:10px;">
        <label for="empAddress">Home Address</label>
        <input type="text" id="empAddress" placeholder="983 Old Eagle School Rd Suite 614, Wayne, PA 19087" />
    </div>

    <div style="display:grid; grid-template-columns: 1fr 1fr; gap:10px; margin-bottom:10px;">
        <div class="input-wrapper">
            <label for="empEmail">Email (Login)</label>
            <input type="email" id="empEmail" placeholder="Test@test.com" />
        </div>
        <div class="input-wrapper">
            <label for="empPhone">Phone</label>
            <input type="text" id="empPhone" placeholder="347-645-1922" />
        </div>
    </div>

    <div class="input-wrapper" style="margin-bottom:10px;">
        <label for="empPassword">Set Initial Password</label>
        <input type="text" id="empPassword" placeholder="e.g. Welcome2025!" />
        <small style="color:#6b7280; font-size:0.75rem;">Leave blank if just editing details. Minimum 6 chars.</small>
    </div>

    <div class="input-wrapper" style="margin-bottom:20px;">
        <label for="empStatus">Status</label>
        <select id="empStatus">
            <option value="Active">Active</option>
            <option value="Waiting">Waiting List</option>
            <option value="Inactive">Inactive (Keeps History)</option>
        </select>
    </div>

    <div id="resetPasswordContainer" style="margin-bottom:15px; display:none;">
        <button type="button" onclick="sendResetEmail()" class="btn btn-secondary">
            ðŸ“§ Send Password Reset Email
        </button>
        <small style="color:#666; display:block; margin-top:5px; text-align:center; font-size:0.75rem;">
            Useful if the employee forgets their login.
        </small>
    </div>

    <div class="modal-buttons">
        <button onclick="saveEmployee()" class="btn btn-primary">Save Member</button>
        <button onclick="closeEmployeeModal()" class="cancel">Cancel</button>
    </div>
</div>